[package]
name = "oxy-workflow"
version = "0.4.7"
authors.workspace = true
description = "Workflow orchestration for Oxy"
documentation.workspace = true
publish.workspace = true
edition.workspace = true
rust-version.workspace = true

[dependencies]
# Async runtime
tokio = { workspace = true }
async-trait = "0.1.89"

# Serialization
serde = { workspace = true }
serde_json = { workspace = true }
serde_yaml = { workspace = true }

# Error handling
thiserror = { workspace = true }
anyhow = "1.0"

# Logging
tracing = { workspace = true }
log = { workspace = true }

# Utilities
arrow = { version = "=54.2.1", default-features = false, features = ["json"] }
chrono = { workspace = true }
csv = "1.4.0"
fxhash = "0.2.1"
indexmap = { workspace = true }
jsonschema = "0.38.1"
itertools = "0.14.0"
minijinja = { workspace = true, features = ["loader"] }
regex = { workspace = true }
reqwest = { version = "0.13.1" }
schemars = { version = "0.8.22", features = ["derive", "impl_json_schema"] }
slugify = "0.1.0"
sqlformat = { git = "https://github.com/shssoichiro/sqlformat-rs.git", rev = "80255c7" }
strip-ansi-escapes = "=0.2.1"
utoipa = {git="https://github.com/haitrr/utoipa.git", rev="776f86e", features = ["uuid", "chrono", "axum_extras"] }
uuid = { version = "1.19.0", features = ["v4", "serde"] }

# Database
sea-orm = { workspace = true }
entity = { path = "../entity" }

# Semantic engine
oxy-semantic = { path = "../semantic" }

# Shared infrastructure
oxy-shared = { path = "../shared" }
oxy-agent = { path = "../agent" }
# oxy-config = { path = "../config" }  # Access via oxy::config instead
oxy = { path = "../core" }

[dev-dependencies]
tokio = { workspace = true, features = ["test-util"] }
